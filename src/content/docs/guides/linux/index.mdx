---
title: Getting started
description: Initial system setup and secure remote access configuration using SSH keys and custom aliases.
---

import { Code, Steps } from "@astrojs/starlight/components";

export const sshdConfig = `
\# Disable password auth
PasswordAuthentication no

\# Prevent root login entirely
PermitRootLogin no

\# Custom SSH port (optional)
Port 2222

\# Only allow specific users (optional)
AllowUsers {{USERNAME_VAR}} $USERNAME2 $USERNAME3
`;

export const sshConfig = `
\# Default settings for all hosts
Host *
\tServerAliveInterval 60
\tServerAliveCountMax 5

\# Example host
Host $ALIAS_NAME
\tHostName {{SERVER_IP_VAR}}
\tUser {{USERNAME_VAR}}
\tPort 2222
\tIdentityFile ~/.ssh/id\*{{HOSTNAME_VAR}}
`;

<p>{frontmatter.description}</p>

---

<br />

<Steps>

1. ## Update and upgrade

   Fetch the latest package lists and apply security patches.

   <Code lang="sh" code={`sudo apt update && sudo apt upgrade -y`} />

2. ## Reboot

   Apply kernel updates and restart services to ensure a clean state.

   <Code lang="sh" code={`sudo reboot`} />

3. ## SSH key management (client)

   Generate unique keys for each device to improve security and auditability.

   <Steps>

   1. ### Generate named key

      Instead of the default name, label the key after the hostname (e.g., `hp-laptop` or `macbook-pro`).

      <Code lang="sh" code={`ssh-keygen -t ed25519 -f ~/.ssh/id_{{HOSTNAME_VAR}}`} />

   2. ### Copy key to server

      Use `ssh-copy-id` to automatically handle directory creation and permissions on the remote server.

      <Code lang="sh" code={`ssh-copy-id -i ~/.ssh/id_{{HOSTNAME_VAR}} {{USERNAME_VAR}}@{{SERVER_IP_VAR}}`} />

   </Steps>

4. ## Server security (host)

   Once your key is verified, disable password logins to prevent brute-force attacks.

   <Steps>

   1. ### Install SSH server

      Ensure the OpenSSH server is installed and active.

      <Code lang="sh" code={`sudo apt install openssh-server -y && sudo systemctl enable --now ssh`} />

   2. ### Configure SSH daemon

      Edit the server configuration to enforce key-based authentication.

      <Code lang="sh" code={`sudo nano /etc/ssh/sshd_config`} />

      <Code lang="sh" title="/etc/ssh/sshd_config" code={sshdConfig} />

   3. ### Verify and restart

      Always check the status before exiting to ensure you arenâ€™t locked out.

      <Code lang="sh" code={`sudo systemctl restart ssh && systemctl status ssh`} />

   </Steps>

5. ## SSH client (local)

   Simplify your workflow by creating aliases. This allows you to type `ssh $ALIAS_NAME` instead of remembering IPs and key paths.

   <Steps>

   1. ### Edit config

      Open (or create) the SSH config file on your **local** machine.

      <Code lang="sh" code={`nano ~/.ssh/config`} />

   2. ### Add host alias

      Define your server details. Now you can connect using just the alias name.

      <Code lang="sh" title="~/.ssh/config" code={sshConfig} />

   3. ### Connect via alias

      Test the new configuration.

      <Code lang="sh" code={`ssh $ALIAS_NAME`} />

   </Steps>

</Steps>
